{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'demos/pet/pet.css' %}" type="text/css">
<!-- <link rel="stylesheet" href="{% static 'demos/pet/css/fonts.css' %}" type="text/css"> -->
<!-- SLIDER REVOLUTION 5.x CSS SETTINGS -->
<link rel="stylesheet" type="text/css" href="{% static 'include/rs-plugin/css/settings.css' %}" media="screen" />
<link rel="stylesheet" type="text/css" href="{% static 'include/rs-plugin/css/layers.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'include/rs-plugin/css/navigation.css' %}">
<style>
	.revo-slider-emphasis-text {
		font-size: 64px;
		font-weight: 700;
		letter-spacing: -1px;
		font-family: 'Poppins', sans-serif;
		padding: 15px 20px;
		border-top: 2px solid #FFF;
		border-bottom: 2px solid #FFF;
	}

	.revo-slider-desc-text {
		font-size: 20px;
		font-family: 'Lato', sans-serif;
		width: 650px;
		text-align: center;
		line-height: 1.5;
	}

	.revo-slider-caps-text {
		font-size: 16px;
		font-weight: 400;
		letter-spacing: 3px;
		font-family: 'Poppins', sans-serif;
	}

	.tp-video-play-button {
		display: none !important;
	}

	.tp-caption {
		white-space: nowrap;
	}

	.about-section p {
		margin-bottom: 20px !important;
	}

	.my-row {
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		width: 100%;
	}

	.my-column {
		display: flex;
		flex-direction: column;
		flex-basis: 100%;
		flex: 1;
	}

	#quick-contact-form-submit:hover {
		color: black !important;
	}

	.view-gallery-button {
		background-color: #282828 !important;
	}

	.view-gallery-button:hover {
		background-color: lightskyblue !important;
	}


	.full-width-button {
		background-color: #162340 !important;
		
	}
	
	.full-width-button-light {
		background-color: #282828 !important;
		font-size: 24px !important;
		line-height: 0.2 !important;
	}
	.desktop {
		display: block;
	}
	.mobile {
		display: none;
	}
	@media (max-width: 992px){
		.who-we-are-image {
			display: none !important;
		}
		.desktop {
			display: none !important;
		}
		.mobile {
			display: block !important;
		}
		#map {height: 450px;}
		.mobile-col-padding {
			padding-left: 20px !important;
			padding-right: 20px !important;
		}
	}
</style>
{% endblock %}

{% block content %}
{% include 'include/slider.html' %}
<!-- Content
============================================= -->
<section id="content">
	<div class="content-wrap py-0">

		{% include 'include/what-we-do.html' %}
		{% include 'include/who-we-are.html' %}
		{% include 'include/gallery.html' %}

		{% include 'include/testimonials.html' %}
		{% include 'include/faqs.html' %}
		{% include 'include/map-and-contact.html' %}


	</div>
</section>
{% endblock %}

{% block extra_js %}
<!-- SLIDER REVOLUTION 5.x SCRIPTS  -->
<script src="{% static 'include/rs-plugin/js/jquery.themepunch.tools.min.js' %}"></script>
<script src="{% static 'include/rs-plugin/js/jquery.themepunch.revolution.min.js' %}"></script>

<script src="{% static 'include/rs-plugin/js/extensions/revolution.extension.video.min.js' %}"></script>
<script src="{% static 'include/rs-plugin/js/extensions/revolution.extension.slideanims.min.js' %}"></script>
<script src="{% static 'include/rs-plugin/js/extensions/revolution.extension.actions.min.js' %}"></script>
<script src="{% static 'include/rs-plugin/js/extensions/revolution.extension.layeranimation.min.js' %}"></script>
<script src="{% static 'include/rs-plugin/js/extensions/revolution.extension.kenburn.min.js' %}"></script>
<script src="{% static 'include/rs-plugin/js/extensions/revolution.extension.navigation.min.js' %}"></script>
<script src="{% static 'include/rs-plugin/js/extensions/revolution.extension.migration.min.js' %}"></script>
<script src="{% static 'include/rs-plugin/js/extensions/revolution.extension.parallax.min.js' %}"></script>

<script>
	var tpj = jQuery,
		sliderHeight = 0;
	var $ = jQuery.noConflict();

	var revapi202;
	tpj(document).ready(function () {
		if (tpj("#rev_slider_579_1").revolution == undefined) {
			revslider_showDoubleJqueryError("#rev_slider_579_1");
		} else {
			revapi202 = tpj("#rev_slider_579_1").show().revolution({
				sliderType: "standard",
				jsFileLocation: "include/rs-plugin/js/",
				sliderLayout: "fullscreen",
				dottedOverlay: "none",
				delay: 9000,
				responsiveLevels: [1140, 1024, 778, 480],
				visibilityLevels: [1140, 1024, 778, 480],
				gridwidth: [1140, 1024, 778, 480],
				gridheight: [728, 768, 960, 720],
				lazyType: "none",
				shadow: 0,
				spinner: "off",
				stopLoop: "on",
				stopAfterLoops: 0,
				stopAtSlide: 1,
				shuffle: "off",
				autoHeight: "off",
				fullScreenAutoWidth: "off",
				fullScreenAlignForce: "off",
				fullScreenOffsetContainer: "",
				fullScreenOffset: "",
				disableProgressBar: "on",
				hideThumbsOnMobile: "off",
				hideSliderAtLimit: 0,
				hideCaptionAtLimit: 0,
				hideAllCaptionAtLilmit: 0,
				debugMode: false,
				fallbacks: {
					simplifyAll: "off",
					disableFocusListener: false,
				},
				parallax: {
					type: "mouse",
					origo: "slidercenter",
					speed: 300,
					levels: [2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 49, 50, 51, 55],
				},
				navigation: {
					keyboardNavigation: "off",
					keyboard_direction: "horizontal",
					mouseScrollNavigation: "off",
					onHoverStop: "off",
					touch: {
						touchenabled: "on",
						swipe_threshold: 75,
						swipe_min_touches: 1,
						swipe_direction: "horizontal",
						drag_block_vertical: false
					},
					arrows: {
						style: "hermes",
						enable: true,
						hide_onmobile: false,
						hide_onleave: false,
						tmp: '<div class="tp-arr-allwrapper">	<div class="tp-arr-imgholder"></div>	<div class="tp-arr-titleholder">{{title}}</div>	</div>',
						left: {
							h_align: "left",
							v_align: "center",
							h_offset: 10,
							v_offset: 0
						},
						right: {
							h_align: "right",
							v_align: "center",
							h_offset: 10,
							v_offset: 0
						}
					}
				}
			});
			revapi202.on("revolution.slide.onloaded", function (e) {
				setTimeout(function () {
					SEMICOLON.slider.sliderDimensions();
					sliderHeight = jQuery('#slider').outerHeight();
				}, 200);
			});

			revapi202.on("revolution.slide.onchange", function (e, data) {
				SEMICOLON.slider.revolutionSliderMenu();
			});
		}
	}); /*ready*/
</script>


<script src="https://maps.google.com/maps/api/js?key=AIzaSyDyh6SqUcsS1sNlNlTHwBdcItnBWelaSFI"></script>

<script>
	function createErrorMsg(msg) {
		return "<i class='icon-remove-sign me-1'></i> " + msg
	};

	var alertTimeOut;

	function displayErrorMsg(msg) {
		clearTimeout(alertTimeOut);
		let el = $('#custom-error-msg');
		let toast = el.find('.toast');
		let toastBody = el.find('.toast-body');
		toastBody.html(msg);
		toast.addClass('show');
		alertTimeOut = setTimeout(function () {
			toast.removeClass('show')
		}, 3000);
	}

	function displaySuccessMsg(msg) {
		clearTimeout(alertTimeOut);
		let el = $('#custom-success-msg');
		let toast = el.find('.toast');
		let toastBody = el.find('.toast-body');
		toastBody.html(msg);
		toast.addClass('show');
		alertTimeOut = setTimeout(function () {
			toast.removeClass('show')
		}, 3000);
	}


	var formAlertTimeOuts = new Array();

	function submitContactForm(event) {
		event.preventDefault();

		// clear timeout
		for (timeOut of formAlertTimeOuts) {
			clearTimeout(timeOut);
		}

		let form = document.getElementById('quick-contact-form');
		let data = new FormData(form);
		let emptyFields = new Array();

		// check for empty fields
		for (entry of data.entries()) {
			if (!entry[1].replace(/\s/g, '').length) {
				$('#' + entry[0]).val(null)
				emptyFields.push(entry[0])
			}
		}

		if (!emptyFields.length) {

			$.ajax({
				type: 'POST',
				url: "/contact/ajax/submit/",
				csrfmiddlewaretoken: $('#quick-contact-form input[name=csrfmiddlewaretoken]').val(),
				processData: false,
				contentType: false,
				data: data,
				success: function (data) {
					if (!data['errors']) {
						document.getElementById('quick-contact-form').reset();
						displaySuccessMsg("<i class='icon-check me-1'></i> Your submission was successful!");

					} else {
						$.each(data['errors'], function (index) {
							displayErrorMsg(createErrorMsg(data['errors'][index]));
						});

					}
				},
			});

		} else {
			$.each(emptyFields, function (index) {
				$('#' + emptyFields[index]).css('border-color', 'red');
				displayErrorMsg(createErrorMsg('Please fill out all required fields.'));
				formAlertTimeOut = setTimeout(function () {
					$('#' + emptyFields[index]).css('border-color', 'rgba(255,255,255,0.15)');
				}, 3000);
				formAlertTimeOuts.push(formAlertTimeOut)
			})
		}
	};


</script>
{% endblock %}